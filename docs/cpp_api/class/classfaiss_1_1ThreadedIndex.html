

<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Class faiss::ThreadedIndex &mdash; Faiss  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />

  
    <link rel="canonical" href="https://faiss.ai/cpp_api/class/classfaiss_1_1ThreadedIndex.html" />
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=b3ba4146"></script>
      <script src="../../_static/doctools.js?v=888ff710"></script>
      <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Class faiss::WorkerThread" href="classfaiss_1_1WorkerThread.html" />
    <link rel="prev" title="Class faiss::IndexReplicasTemplate" href="classfaiss_1_1IndexReplicasTemplate.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Faiss
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Docs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/facebookresearch/faiss/wiki">Wiki</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">C++ API</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../classlist.html">Class list</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="classfaiss_1_1FaissException.html">Class faiss::FaissException</a></li>
<li class="toctree-l2"><a class="reference internal" href="classfaiss_1_1IndexReplicasTemplate.html">Class faiss::IndexReplicasTemplate</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Class faiss::ThreadedIndex</a></li>
<li class="toctree-l2"><a class="reference internal" href="classfaiss_1_1WorkerThread.html">Class faiss::WorkerThread</a></li>
<li class="toctree-l2"><a class="reference internal" href="classfaiss_1_1gpu_1_1CpuTimer.html">Class faiss::gpu::CpuTimer</a></li>
<li class="toctree-l2"><a class="reference internal" href="classfaiss_1_1gpu_1_1CublasHandleScope.html">Class faiss::gpu::CublasHandleScope</a></li>
<li class="toctree-l2"><a class="reference internal" href="classfaiss_1_1gpu_1_1CudaEvent.html">Class faiss::gpu::CudaEvent</a></li>
<li class="toctree-l2"><a class="reference internal" href="classfaiss_1_1gpu_1_1DeviceScope.html">Class faiss::gpu::DeviceScope</a></li>
<li class="toctree-l2"><a class="reference internal" href="classfaiss_1_1gpu_1_1GpuIcmEncoder.html">Class faiss::gpu::GpuIcmEncoder</a></li>
<li class="toctree-l2"><a class="reference internal" href="classfaiss_1_1gpu_1_1GpuIndex.html">Class faiss::gpu::GpuIndex</a></li>
<li class="toctree-l2"><a class="reference internal" href="classfaiss_1_1gpu_1_1GpuIndexBinaryFlat.html">Class faiss::gpu::GpuIndexBinaryFlat</a></li>
<li class="toctree-l2"><a class="reference internal" href="classfaiss_1_1gpu_1_1GpuIndexFlat.html">Class faiss::gpu::GpuIndexFlat</a></li>
<li class="toctree-l2"><a class="reference internal" href="classfaiss_1_1gpu_1_1GpuIndexFlatIP.html">Class faiss::gpu::GpuIndexFlatIP</a></li>
<li class="toctree-l2"><a class="reference internal" href="classfaiss_1_1gpu_1_1GpuIndexFlatL2.html">Class faiss::gpu::GpuIndexFlatL2</a></li>
<li class="toctree-l2"><a class="reference internal" href="classfaiss_1_1gpu_1_1GpuIndexIVF.html">Class faiss::gpu::GpuIndexIVF</a></li>
<li class="toctree-l2"><a class="reference internal" href="classfaiss_1_1gpu_1_1GpuIndexIVFFlat.html">Class faiss::gpu::GpuIndexIVFFlat</a></li>
<li class="toctree-l2"><a class="reference internal" href="classfaiss_1_1gpu_1_1GpuIndexIVFPQ.html">Class faiss::gpu::GpuIndexIVFPQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="classfaiss_1_1gpu_1_1GpuIndexIVFScalarQuantizer.html">Class faiss::gpu::GpuIndexIVFScalarQuantizer</a></li>
<li class="toctree-l2"><a class="reference internal" href="classfaiss_1_1gpu_1_1GpuResources.html">Class faiss::gpu::GpuResources</a></li>
<li class="toctree-l2"><a class="reference internal" href="classfaiss_1_1gpu_1_1GpuResourcesProvider.html">Class faiss::gpu::GpuResourcesProvider</a></li>
<li class="toctree-l2"><a class="reference internal" href="classfaiss_1_1gpu_1_1GpuResourcesProviderFromInstance.html">Class faiss::gpu::GpuResourcesProviderFromInstance</a></li>
<li class="toctree-l2"><a class="reference internal" href="classfaiss_1_1gpu_1_1KernelTimer.html">Class faiss::gpu::KernelTimer</a></li>
<li class="toctree-l2"><a class="reference internal" href="classfaiss_1_1gpu_1_1StackDeviceMemory.html">Class faiss::gpu::StackDeviceMemory</a></li>
<li class="toctree-l2"><a class="reference internal" href="classfaiss_1_1gpu_1_1StandardGpuResources.html">Class faiss::gpu::StandardGpuResources</a></li>
<li class="toctree-l2"><a class="reference internal" href="classfaiss_1_1gpu_1_1StandardGpuResourcesImpl.html">Class faiss::gpu::StandardGpuResourcesImpl</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../filelist.html">File list</a></li>
<li class="toctree-l1"><a class="reference internal" href="../namespacelist.html">Namespace list</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structlist.html">Struct list</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Faiss</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../classlist.html">Class list</a></li>
      <li class="breadcrumb-item active">Class faiss::ThreadedIndex</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/cpp_api/class/classfaiss_1_1ThreadedIndex.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="class-faiss-threadedindex">
<h1>Class faiss::ThreadedIndex<a class="headerlink" href="#class-faiss-threadedindex" title="Permalink to this heading"></a></h1>
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4I0EN5faiss13ThreadedIndexE">
<span id="_CPPv3I0EN5faiss13ThreadedIndexE"></span><span id="_CPPv2I0EN5faiss13ThreadedIndexE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">IndexT</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classfaiss_1_1ThreadedIndex"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ThreadedIndex</span></span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="k"><span class="pre">public</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0EN5faiss13ThreadedIndexE" title="faiss::ThreadedIndex::IndexT"><span class="n"><span class="pre">IndexT</span></span></a><a class="headerlink" href="#_CPPv4I0EN5faiss13ThreadedIndexE" title="Permalink to this definition"></a><br /></dt>
<dd><p>A holder of indices in a collection of threads The interface to this class itself is not thread safe </p>
<p>Subclassed by <a class="reference internal" href="../namespace/namespacefaiss.html#classfaiss_1_1IndexReplicasTemplate"><span class="std std-ref">faiss::IndexReplicasTemplate&lt; IndexT &gt;</span></a>, <a class="reference internal" href="../struct/structfaiss_1_1IndexShardsTemplate.html#structfaiss_1_1IndexShardsTemplate"><span class="std std-ref">faiss::IndexShardsTemplate&lt; IndexT &gt;</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N5faiss13ThreadedIndex13ThreadedIndexEb">
<span id="_CPPv3N5faiss13ThreadedIndex13ThreadedIndexEb"></span><span id="_CPPv2N5faiss13ThreadedIndex13ThreadedIndexEb"></span><span id="faiss::ThreadedIndex::ThreadedIndex__b"></span><span class="target" id="classfaiss_1_1ThreadedIndex_1ac603a659e678e154a49722bc428538e9"></span><span class="k"><span class="pre">explicit</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ThreadedIndex</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">threaded</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss13ThreadedIndex13ThreadedIndexEb" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N5faiss13ThreadedIndex13ThreadedIndexEib">
<span id="_CPPv3N5faiss13ThreadedIndex13ThreadedIndexEib"></span><span id="_CPPv2N5faiss13ThreadedIndex13ThreadedIndexEib"></span><span id="faiss::ThreadedIndex::ThreadedIndex__i.b"></span><span class="target" id="classfaiss_1_1ThreadedIndex_1a52a2c216ed16feb3be6a57e15253b368"></span><span class="k"><span class="pre">explicit</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ThreadedIndex</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">d</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">threaded</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss13ThreadedIndex13ThreadedIndexEib" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N5faiss13ThreadedIndexD0Ev">
<span id="_CPPv3N5faiss13ThreadedIndexD0Ev"></span><span id="_CPPv2N5faiss13ThreadedIndexD0Ev"></span><span id="faiss::ThreadedIndex::~ThreadedIndex"></span><span class="target" id="classfaiss_1_1ThreadedIndex_1a79fdffee4cc4aef5dd3d91183e2be5f9"></span><span class="sig-name descname"><span class="n"><span class="pre">~ThreadedIndex</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">override</span></span><a class="headerlink" href="#_CPPv4N5faiss13ThreadedIndexD0Ev" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N5faiss13ThreadedIndex8addIndexEP6IndexT">
<span id="_CPPv3N5faiss13ThreadedIndex8addIndexEP6IndexT"></span><span id="_CPPv2N5faiss13ThreadedIndex8addIndexEP6IndexT"></span><span id="faiss::ThreadedIndex::addIndex__IndexTP"></span><span class="target" id="classfaiss_1_1ThreadedIndex_1a9a11a672369d48f45cf1dd1bfe0dad87"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">addIndex</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I0EN5faiss13ThreadedIndexE" title="faiss::ThreadedIndex::IndexT"><span class="n"><span class="pre">IndexT</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">index</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss13ThreadedIndex8addIndexEP6IndexT" title="Permalink to this definition"></a><br /></dt>
<dd><p>override an index that is managed by ourselves. WARNING: once an index is added, it becomes unsafe to touch it from any other thread than that on which is managing it, until we are shut down. Use runOnIndex to perform work on it instead. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N5faiss13ThreadedIndex11removeIndexEP6IndexT">
<span id="_CPPv3N5faiss13ThreadedIndex11removeIndexEP6IndexT"></span><span id="_CPPv2N5faiss13ThreadedIndex11removeIndexEP6IndexT"></span><span id="faiss::ThreadedIndex::removeIndex__IndexTP"></span><span class="target" id="classfaiss_1_1ThreadedIndex_1a21604d6b8b8d42e6cc78c26e85564027"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">removeIndex</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I0EN5faiss13ThreadedIndexE" title="faiss::ThreadedIndex::IndexT"><span class="n"><span class="pre">IndexT</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">index</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss13ThreadedIndex11removeIndexEP6IndexT" title="Permalink to this definition"></a><br /></dt>
<dd><p>Remove an index that is managed by ourselves. This will flush all pending work on that index, and then shut down its managing thread, and will remove the index. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N5faiss13ThreadedIndex10runOnIndexENSt8functionIFviP6IndexTEEE">
<span id="_CPPv3N5faiss13ThreadedIndex10runOnIndexENSt8functionIFviP6IndexTEEE"></span><span id="_CPPv2N5faiss13ThreadedIndex10runOnIndexENSt8functionIFviP6IndexTEEE"></span><span class="target" id="classfaiss_1_1ThreadedIndex_1a30ade89dc4e571868cf121e5592d6687"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">runOnIndex</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../namespace/namespacestd.html#_CPPv4St" title="std"><span class="n"><span class="pre">std</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">function</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">int</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0EN5faiss13ThreadedIndexE" title="faiss::ThreadedIndex::IndexT"><span class="n"><span class="pre">IndexT</span></span></a><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">f</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss13ThreadedIndex10runOnIndexENSt8functionIFviP6IndexTEEE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Run a function on all indices, in the thread that the index is managed in. Function arguments are (index in collection, index pointer) </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK5faiss13ThreadedIndex10runOnIndexENSt8functionIFviPK6IndexTEEE">
<span id="_CPPv3NK5faiss13ThreadedIndex10runOnIndexENSt8functionIFviPK6IndexTEEE"></span><span id="_CPPv2NK5faiss13ThreadedIndex10runOnIndexENSt8functionIFviPK6IndexTEEE"></span><span class="target" id="classfaiss_1_1ThreadedIndex_1af5188782bc9e776800b96d1610b3f22b"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">runOnIndex</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../namespace/namespacestd.html#_CPPv4St" title="std"><span class="n"><span class="pre">std</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">function</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">int</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0EN5faiss13ThreadedIndexE" title="faiss::ThreadedIndex::IndexT"><span class="n"><span class="pre">IndexT</span></span></a><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">f</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK5faiss13ThreadedIndex10runOnIndexENSt8functionIFviPK6IndexTEEE" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N5faiss13ThreadedIndex5resetEv">
<span id="_CPPv3N5faiss13ThreadedIndex5resetEv"></span><span id="_CPPv2N5faiss13ThreadedIndex5resetEv"></span><span id="faiss::ThreadedIndex::reset"></span><span class="target" id="classfaiss_1_1ThreadedIndex_1a4536f6e7a8cce1f79bebc420ae1e909b"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">reset</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">override</span></span><a class="headerlink" href="#_CPPv4N5faiss13ThreadedIndex5resetEv" title="Permalink to this definition"></a><br /></dt>
<dd><p><a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">faiss::Index</span></a> API All indices receive the same call </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK5faiss13ThreadedIndex5countEv">
<span id="_CPPv3NK5faiss13ThreadedIndex5countEv"></span><span id="_CPPv2NK5faiss13ThreadedIndex5countEv"></span><span id="faiss::ThreadedIndex::countC"></span><span class="target" id="classfaiss_1_1ThreadedIndex_1a2f9cadbcb9335c0833f61259230429a7"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">count</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK5faiss13ThreadedIndex5countEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Returns the number of sub-indices. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N5faiss13ThreadedIndex2atE6size_t">
<span id="_CPPv3N5faiss13ThreadedIndex2atE6size_t"></span><span id="_CPPv2N5faiss13ThreadedIndex2atE6size_t"></span><span id="faiss::ThreadedIndex::at__s"></span><span class="target" id="classfaiss_1_1ThreadedIndex_1af4d21ab1540ed9445f26d236666c224f"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0EN5faiss13ThreadedIndexE" title="faiss::ThreadedIndex::IndexT"><span class="n"><span class="pre">IndexT</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">at</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">i</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss13ThreadedIndex2atE6size_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Returns the i-th sub-index. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK5faiss13ThreadedIndex2atE6size_t">
<span id="_CPPv3NK5faiss13ThreadedIndex2atE6size_t"></span><span id="_CPPv2NK5faiss13ThreadedIndex2atE6size_t"></span><span id="faiss::ThreadedIndex::at__sC"></span><span class="target" id="classfaiss_1_1ThreadedIndex_1a79489c10d41a74d0b29a236e720adc90"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0EN5faiss13ThreadedIndexE" title="faiss::ThreadedIndex::IndexT"><span class="n"><span class="pre">IndexT</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">at</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">i</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK5faiss13ThreadedIndex2atE6size_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Returns the i-th sub-index (const version) </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N5faiss13ThreadedIndex11own_indicesE">
<span id="_CPPv3N5faiss13ThreadedIndex11own_indicesE"></span><span id="_CPPv2N5faiss13ThreadedIndex11own_indicesE"></span><span id="faiss::ThreadedIndex::own_indices__b"></span><span class="target" id="classfaiss_1_1ThreadedIndex_1a1223180acd3979e7205c91d2dba9d306"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">own_indices</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">false</span></span><a class="headerlink" href="#_CPPv4N5faiss13ThreadedIndex11own_indicesE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Whether or not we are responsible for deleting our contained indices. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-protected-functions">Protected Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N5faiss13ThreadedIndex15onAfterAddIndexEP6IndexT">
<span id="_CPPv3N5faiss13ThreadedIndex15onAfterAddIndexEP6IndexT"></span><span id="_CPPv2N5faiss13ThreadedIndex15onAfterAddIndexEP6IndexT"></span><span id="faiss::ThreadedIndex::onAfterAddIndex__IndexTP"></span><span class="target" id="classfaiss_1_1ThreadedIndex_1abdcae15f8589c53d4fa648fb2d5ab625"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">onAfterAddIndex</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I0EN5faiss13ThreadedIndexE" title="faiss::ThreadedIndex::IndexT"><span class="n"><span class="pre">IndexT</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">index</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss13ThreadedIndex15onAfterAddIndexEP6IndexT" title="Permalink to this definition"></a><br /></dt>
<dd><p>Called just after an index is added. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N5faiss13ThreadedIndex18onAfterRemoveIndexEP6IndexT">
<span id="_CPPv3N5faiss13ThreadedIndex18onAfterRemoveIndexEP6IndexT"></span><span id="_CPPv2N5faiss13ThreadedIndex18onAfterRemoveIndexEP6IndexT"></span><span id="faiss::ThreadedIndex::onAfterRemoveIndex__IndexTP"></span><span class="target" id="classfaiss_1_1ThreadedIndex_1a3bfc1a3002a150d850b20dc40c5d31fe"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">onAfterRemoveIndex</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I0EN5faiss13ThreadedIndexE" title="faiss::ThreadedIndex::IndexT"><span class="n"><span class="pre">IndexT</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">index</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss13ThreadedIndex18onAfterRemoveIndexEP6IndexT" title="Permalink to this definition"></a><br /></dt>
<dd><p>Called just after an index is removed. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-protected-attributes">Protected Attributes</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N5faiss13ThreadedIndex8indices_E">
<span id="_CPPv3N5faiss13ThreadedIndex8indices_E"></span><span id="_CPPv2N5faiss13ThreadedIndex8indices_E"></span><span id="faiss::ThreadedIndex::indices___std::vector:std::pair:IndexTP.std::unique_ptr:WorkerThread:::"></span><span class="target" id="classfaiss_1_1ThreadedIndex_1acb0dc6a321ad80636d5fef5cc7edd05b"></span><a class="reference internal" href="../namespace/namespacestd.html#_CPPv4St" title="std"><span class="n"><span class="pre">std</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="../namespace/namespacestd.html#_CPPv4St" title="std"><span class="n"><span class="pre">std</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">pair</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4I0EN5faiss13ThreadedIndexE" title="faiss::ThreadedIndex::IndexT"><span class="n"><span class="pre">IndexT</span></span></a><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../namespace/namespacestd.html#_CPPv4St" title="std"><span class="n"><span class="pre">std</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">unique_ptr</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="classfaiss_1_1WorkerThread.html#_CPPv4N5faiss12WorkerThreadE" title="faiss::WorkerThread"><span class="n"><span class="pre">WorkerThread</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">indices_</span></span></span><a class="headerlink" href="#_CPPv4N5faiss13ThreadedIndex8indices_E" title="Permalink to this definition"></a><br /></dt>
<dd><p>Collection of <a class="reference internal" href="../struct/structfaiss_1_1Index.html#structfaiss_1_1Index"><span class="std std-ref">Index</span></a> instances, with their managing worker thread if any. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N5faiss13ThreadedIndex11isThreaded_E">
<span id="_CPPv3N5faiss13ThreadedIndex11isThreaded_E"></span><span id="_CPPv2N5faiss13ThreadedIndex11isThreaded_E"></span><span id="faiss::ThreadedIndex::isThreaded___b"></span><span class="target" id="classfaiss_1_1ThreadedIndex_1a1031b2c900e9ba53573e617539b3c488"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">isThreaded_</span></span></span><a class="headerlink" href="#_CPPv4N5faiss13ThreadedIndex11isThreaded_E" title="Permalink to this definition"></a><br /></dt>
<dd><p>Is this index multi-threaded? </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-protected-static-functions">Protected Static Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N5faiss13ThreadedIndex20waitAndHandleFuturesERNSt6vectorINSt6futureIbEEEE">
<span id="_CPPv3N5faiss13ThreadedIndex20waitAndHandleFuturesERNSt6vectorINSt6futureIbEEEE"></span><span id="_CPPv2N5faiss13ThreadedIndex20waitAndHandleFuturesERNSt6vectorINSt6futureIbEEEE"></span><span id="faiss::ThreadedIndex::waitAndHandleFutures__std::vector:std::future:b::R"></span><span class="target" id="classfaiss_1_1ThreadedIndex_1a26c2b3a37f612f8654a855831ad828a6"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">waitAndHandleFutures</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../namespace/namespacestd.html#_CPPv4St" title="std"><span class="n"><span class="pre">std</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="../namespace/namespacestd.html#_CPPv4St" title="std"><span class="n"><span class="pre">std</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">future</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">bool</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">v</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5faiss13ThreadedIndex20waitAndHandleFuturesERNSt6vectorINSt6futureIbEEEE" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="classfaiss_1_1IndexReplicasTemplate.html" class="btn btn-neutral float-left" title="Class faiss::IndexReplicasTemplate" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="classfaiss_1_1WorkerThread.html" class="btn btn-neutral float-right" title="Class faiss::WorkerThread" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Facebook, Inc. and its affiliates..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>